<!DOCTYPE html>
<html>

<head>
    <meta charset=UTF-8>
    <!-- <script src="https://cdn.jsdelivr.net/gh/magiclen/ts-date-differencer/dist/date-differencer.min.js"></script> -->
    <script src="./dist/date-differencer.min.js"></script>
    <title>date-differencer</title>
</head>

<body>
    <div>
        <input type="datetime-local" id="a" />
        <input type="datetime-local" id="b" />
    </div>
    <pre id="result"></pre>

    <script>
        const a = document.getElementById("a");
        const b = document.getElementById("b");
        const result = document.getElementById("result");

        const diff = () => {
            const dateA = new Date(a.value);
            const dateB = new Date(b.value);

            try {
                const r = DateDifferencer.dateDiff(dateA, dateB);

                result.innerHTML = JSON.stringify(r, null, 4);
            } catch (err) {
                console.warn(err);
                result.innerHTML = "";
            }
        };

        a.addEventListener("input", diff);
        b.addEventListener("input", diff);

        const setValue = (element, date) => {
            const isoString = date.toISOString();
            element.value = isoString.substring(0, 16);
        };

        const now = new Date();

        setValue(a, now);
        setValue(b, now);

        diff();
    </script>
</body>

</html>